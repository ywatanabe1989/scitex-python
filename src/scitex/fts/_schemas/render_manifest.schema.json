{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://scitex.ai/schemas/fts/render_manifest.schema.json",
  "title": "FTS Render Manifest Schema",
  "description": "Schema for render/export settings (cache - regenerable)",
  "type": "object",
  "properties": {
    "dpi": {
      "type": "integer",
      "minimum": 72,
      "maximum": 1200,
      "default": 300,
      "description": "Resolution in dots per inch"
    },
    "size_mm": {
      "type": "object",
      "properties": {
        "width": {"type": "number", "minimum": 0},
        "height": {"type": "number", "minimum": 0}
      }
    },
    "size_px": {
      "type": "object",
      "description": "Derived from size_mm and dpi",
      "properties": {
        "width": {"type": "integer", "minimum": 0},
        "height": {"type": "integer", "minimum": 0}
      }
    },
    "formats": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["png", "svg", "pdf", "eps", "tiff"]
      },
      "default": ["png", "svg", "pdf"]
    },
    "backend": {
      "type": "string",
      "enum": ["matplotlib", "plotly", "bokeh", "altair"],
      "default": "matplotlib"
    },
    "options": {
      "type": "object",
      "properties": {
        "bbox_inches": {"type": "string", "default": "tight"},
        "pad_inches": {"type": "number", "default": 0.1},
        "transparent": {"type": "boolean", "default": false},
        "facecolor": {"type": "string"},
        "edgecolor": {"type": "string"}
      }
    },
    "rendered_at": {
      "type": "string",
      "format": "date-time"
    },
    "render_time_ms": {
      "type": "number",
      "description": "Time taken to render in milliseconds"
    }
  }
}
