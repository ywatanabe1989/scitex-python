# SciTeX Figure Workflow - Semantic Diagram Specification
# This YAML defines WHAT the diagram means, not HOW to draw it

type: workflow
title: SciTeX Figure Lifecycle

paper:
  column: single          # Full-width figure
  max_width_mm: 170
  reading_direction: left_to_right
  emphasize:              # Key nodes for reader attention
    - figz_bundle
    - editor
    - ai_review

layout:
  layer_gap: large        # Generous spacing between stages
  node_gap: medium
  groups:
    Creation:
      - python_code
      - savefig
    Bundle:
      - figz_bundle
      - spec_json
      - data_csv
      - preview
    Editing:
      - editor
      - ai_review
    Output:
      - export

nodes:
  - id: python_code
    label: Python Analysis
    shape: rounded
    emphasis: normal

  - id: savefig
    label: scitex.savefig()
    shape: box
    emphasis: normal

  - id: figz_bundle
    label: .figz Bundle
    shape: stadium
    emphasis: primary

  - id: spec_json
    label: spec.json
    shape: box
    emphasis: normal

  - id: data_csv
    label: data.csv
    shape: box
    emphasis: normal

  - id: preview
    label: preview.png
    shape: box
    emphasis: muted

  - id: editor
    label: Interactive Editor
    shape: rounded
    emphasis: primary

  - id: ai_review
    label: AI Review
    shape: diamond
    emphasis: primary

  - id: export
    label: Export PDF/PNG
    shape: stadium
    emphasis: success

edges:
  - from: python_code
    to: savefig

  - from: savefig
    to: figz_bundle

  - from: figz_bundle
    to: spec_json
    style: dashed

  - from: figz_bundle
    to: data_csv
    style: dashed

  - from: figz_bundle
    to: preview
    style: dashed

  - from: figz_bundle
    to: editor

  - from: editor
    to: figz_bundle
    label: spec changes

  - from: figz_bundle
    to: ai_review

  - from: ai_review
    to: figz_bundle
    label: verified diffs

  - from: figz_bundle
    to: export
