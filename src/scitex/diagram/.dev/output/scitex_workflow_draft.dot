digraph G {
    rankdir=LR;
    ranksep=1.2;
    nodesep=0.8;
    splines=ortho;
    node [fontname="Helvetica", fontsize=10];
    edge [fontname="Helvetica", fontsize=9];

    subgraph cluster_0 {
        label="Creation";
        python_code [label="Python Analysis", shape=box, fillcolor="#1a2634", style=filled, color="#3a4a5a", style=rounded];
        savefig [label="scitex.savefig()", shape=box, fillcolor="#1a2634", style=filled, color="#3a4a5a"];
    }
    subgraph cluster_1 {
        label="Bundle";
        figz_bundle [label=".figz Bundle", shape=box, fillcolor="#0d4a6b", style=filled, color="#5a9fcf"];
        spec_json [label="spec.json", shape=box, fillcolor="#1a2634", style=filled, color="#3a4a5a"];
        data_csv [label="data.csv", shape=box, fillcolor="#1a2634", style=filled, color="#3a4a5a"];
        preview [label="preview.png", shape=box, fillcolor="#f0f0f0", style=filled, color="#999999"];
    }
    subgraph cluster_2 {
        label="Editing";
        editor [label="Interactive Editor", shape=box, fillcolor="#0d4a6b", style=filled, color="#5a9fcf", style=rounded];
        ai_review [label="AI Review", shape=diamond, fillcolor="#0d4a6b", style=filled, color="#5a9fcf"];
    }
    subgraph cluster_3 {
        label="Output";
        export [label="Export PDF/PNG", shape=box, fillcolor="#ccffcc", style=filled, color="#00cc00"];
    }


    python_code -> savefig;
    savefig -> figz_bundle;
    figz_bundle -> spec_json [style=dashed];
    figz_bundle -> data_csv [style=dashed];
    figz_bundle -> preview [style=dashed];
    figz_bundle -> editor;
    editor -> figz_bundle [label="spec changes"];
    figz_bundle -> ai_review;
    ai_review -> figz_bundle [label="verified diffs"];
    figz_bundle -> export;
}