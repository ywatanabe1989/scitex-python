%%{init: {"theme": "base", "themeVariables": {"primaryColor": "#f5f5f5", "primaryTextColor": "#333333", "primaryBorderColor": "#666666", "lineColor": "#666666"}}}%%
graph TB
    start{"New Figure?"}
    multipanel{"Multi-panel?"}
    use_figz(["Use .figure"])
    use_pltz(["Use .plot"])
    simple{"Simple plot?"}
    use_png(["Use PNG"])
    use_svg(["Use SVG"])
    start -->|"Yes"| multipanel
    multipanel -->|"Yes"| use_figz
    multipanel -->|"No"| use_pltz
    start -->|"No"| simple
    simple -->|"Yes"| use_png
    simple -->|"No"| use_svg
    style use_figz fill:#e6f3ff,stroke:#0066cc,stroke-width:2px
    style use_pltz fill:#e6f3ff,stroke:#0066cc,stroke-width:2px
    style use_png fill:#f0f0f0,stroke:#aaaaaa
    style use_svg fill:#e6ffe6,stroke:#00aa00
